{"version":3,"file":"wp-capture-form-embed/build/index.js","mappings":"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","sources":["webpack://capture-plugin-blocks/capture-plugin-blocks/wp-capture-form-embed/src/components/FormPreview.js","webpack://capture-plugin-blocks/capture-plugin-blocks/wp-capture-form-embed/external window [\"wp\",\"blockEditor\"]","webpack://capture-plugin-blocks/capture-plugin-blocks/wp-capture-form-embed/external window [\"wp\",\"blocks\"]","webpack://capture-plugin-blocks/capture-plugin-blocks/wp-capture-form-embed/external window [\"wp\",\"components\"]","webpack://capture-plugin-blocks/capture-plugin-blocks/wp-capture-form-embed/external window [\"wp\",\"data\"]","webpack://capture-plugin-blocks/capture-plugin-blocks/wp-capture-form-embed/external window [\"wp\",\"i18n\"]","webpack://capture-plugin-blocks/capture-plugin-blocks/wp-capture-form-embed/external window \"React\"","webpack://capture-plugin-blocks/capture-plugin-blocks/wp-capture-form-embed/webpack/bootstrap","webpack://capture-plugin-blocks/capture-plugin-blocks/wp-capture-form-embed/webpack/runtime/compat get default export","webpack://capture-plugin-blocks/capture-plugin-blocks/wp-capture-form-embed/webpack/runtime/define property getters","webpack://capture-plugin-blocks/capture-plugin-blocks/wp-capture-form-embed/webpack/runtime/hasOwnProperty shorthand","webpack://capture-plugin-blocks/capture-plugin-blocks/wp-capture-form-embed/webpack/runtime/make namespace object","webpack://capture-plugin-blocks/capture-plugin-blocks/wp-capture-form-embed/src/index.js"],"sourcesContent":["import { __ } from '@wordpress/i18n';\nimport { useSelect } from '@wordpress/data';\nimport { Spinner } from '@wordpress/components';\n\n// Debug logging\nconst debug = (message, data) => {\n    if (process.env.NODE_ENV === 'development') {\n        console.log(`[Form Preview] ${message}`, data);\n    }\n};\n\nexport default function FormPreview({ formId }) {\n    debug('FormPreview props:', { formId });\n\n    const form = useSelect((select) => {\n        const result = select('core').getEntityRecord('postType', 'capture_form', formId);\n        debug('Fetched form:', result);\n        return result;\n    }, [formId]);\n\n    if (!form) {\n        debug('Form is loading...');\n        return (\n            <div className=\"form-preview-loading\">\n                <Spinner />\n            </div>\n        );\n    }\n\n    debug('Rendering form:', form);\n\n    return (\n        <div className=\"form-preview\">\n            <div className=\"form-preview-content\">\n                <div dangerouslySetInnerHTML={{ __html: form.content.rendered }} />\n            </div>\n        </div>\n    );\n} ","module.exports = window[\"wp\"][\"blockEditor\"];","module.exports = window[\"wp\"][\"blocks\"];","module.exports = window[\"wp\"][\"components\"];","module.exports = window[\"wp\"][\"data\"];","module.exports = window[\"wp\"][\"i18n\"];","module.exports = window[\"React\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import { registerBlockType } from '@wordpress/blocks';\nimport { useSelect } from '@wordpress/data';\nimport { __ } from '@wordpress/i18n';\nimport { \n    Placeholder,\n    Spinner,\n    SelectControl,\n    PanelBody,\n    PanelRow\n} from '@wordpress/components';\nimport { useBlockProps, InspectorControls } from '@wordpress/block-editor';\nimport FormPreview from './components/FormPreview';\n\n// Debug logging\nconst debug = (message, data) => {\n    if (process.env.NODE_ENV === 'development') {\n        console.log(`[Form Embed Block] ${message}`, data);\n    }\n};\n\nregisterBlockType('capture/form-embed', {\n    edit: function Edit({ attributes, setAttributes }) {\n        const blockProps = useBlockProps();\n        const { formId } = attributes;\n\n        debug('Block attributes:', attributes);\n\n        const forms = useSelect((select) => {\n            const result = select('core').getEntityRecords('postType', 'capture_form', {\n                per_page: -1,\n                _embed: true,\n                orderby: 'title',\n                order: 'asc'\n            });\n            debug('Fetched forms:', result);\n            return result;\n        }, []);\n\n        if (!forms) {\n            debug('Forms are loading...');\n            return (\n                <div {...blockProps}>\n                    <Placeholder>\n                        <Spinner />\n                    </Placeholder>\n                </div>\n            );\n        }\n\n        const formOptions = forms.map(form => ({\n            label: form.title.rendered,\n            value: form.id\n        }));\n\n        debug('Form options:', formOptions);\n\n        return (\n            <>\n                <InspectorControls>\n                    <PanelBody title={__('Form Settings', 'capture')}>\n                        <PanelRow>\n                            <SelectControl\n                                label={__('Select Form', 'capture')}\n                                value={formId}\n                                options={[\n                                    { label: __('Select a form...', 'capture'), value: '' },\n                                    ...formOptions\n                                ]}\n                                onChange={(value) => {\n                                    debug('Form selected:', value);\n                                    setAttributes({ formId: value ? parseInt(value) : null });\n                                }}\n                            />\n                        </PanelRow>\n                    </PanelBody>\n                </InspectorControls>\n                <div {...blockProps}>\n                    {!formId ? (\n                        <Placeholder\n                            label={__('Form Embed', 'capture')}\n                            instructions={__('Select a form to embed.', 'capture')}\n                        >\n                            <SelectControl\n                                value={formId}\n                                options={[\n                                    { label: __('Select a form...', 'capture'), value: '' },\n                                    ...formOptions\n                                ]}\n                                onChange={(value) => {\n                                    debug('Form selected:', value);\n                                    setAttributes({ formId: value ? parseInt(value) : null });\n                                }}\n                            />\n                        </Placeholder>\n                    ) : (\n                        <FormPreview formId={formId} />\n                    )}\n                </div>\n            </>\n        );\n    }\n}); "],"names":["debug","message","data","console","log","FormPreview","formId","form","_wordpress_data__WEBPACK_IMPORTED_MODULE_2__","useSelect","select","result","getEntityRecord","react__WEBPACK_IMPORTED_MODULE_0__","createElement","className","_wordpress_components__WEBPACK_IMPORTED_MODULE_3__","Spinner","dangerouslySetInnerHTML","__html","content","rendered","module","exports","window","__webpack_module_cache__","__nested_webpack_require_4978__","moduleId","cachedModule","undefined","__webpack_modules__","n","getter","__esModule","d","a","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","r","Symbol","toStringTag","value","_wordpress_blocks__WEBPACK_IMPORTED_MODULE_1__","registerBlockType","edit","Edit","attributes","setAttributes","blockProps","_wordpress_block_editor__WEBPACK_IMPORTED_MODULE_5__","useBlockProps","forms","getEntityRecords","per_page","_embed","orderby","order","_wordpress_components__WEBPACK_IMPORTED_MODULE_4__","Placeholder","formOptions","map","label","title","id","Fragment","InspectorControls","PanelBody","_wordpress_i18n__WEBPACK_IMPORTED_MODULE_3__","__","PanelRow","SelectControl","options","onChange","parseInt","instructions","_components_FormPreview__WEBPACK_IMPORTED_MODULE_6__"],"sourceRoot":""}